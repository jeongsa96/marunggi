{% extends 'dokteker/layout.html' %} 
{% block content %} 
{% load static %} 
<div class="container-fluid d-flex flex-column">
<div class="card mt-2">
    <h5 class="card-header">Prediksi Data Penyakit</h5>
    <div class="card-body">
      <h5 class="card-title">Visualisasi Per Tanggal.</h5>
      <form action="" method="POST">
        {% csrf_token %}
          <div class="mb-3 col-lg-3">        
            <input
            type="date"
            class="form-control {% for message in messages %}{% if "date" in message.tags %}is-invalid{% endif %}{% endfor %}"
            name="tanggal"
            id="tanggal"
            aria-describedby="helpId"
            placeholder=""
            value=""          
            />
            {% if messages %}
                {% for message in messages %}
                <div id="tanggalFeedback" class="invalid-feedback">
                    {{message}}
                </div>
                {% endfor %}
            {% endif %}             
          </div>
          <div class="row">
            <div class="col-lg-4 d-inline my-3">
              <select name="penyakit" id="penyakit" class="form-select {% for message in messages %}{% if "penyakit" in message.tags %}is-invalid{% endif %}{% endfor %} ">
                <option selected value="0">Pilih Penyakit</option>
                {% for l in list %}
                <option value="{{ l.nama_penyakit }}">{{ l.nama_penyakit }}</option>
                {% endfor %}  
              </select>
              {% if messages %}
                  {% for message in messages %}
                  <div id="tanggalFeedback" class="invalid-feedback">
                      {{message}}
                  </div>
                  {% endfor %}
              {% endif %} 
            </div>
            <div class="col-lg-2 d-inline my-3">
              <button
                type="submit"
                class="btn btn-primary"
                id="cek"
                name="cek"
              >
                Cek Visualisasi
              </button>        
            </div>
          </div>
      </form>      
      <div>
        {{chart|safe}}        
      </div> 
      </div>
    </div>
  </div>
</div>
</main>
{% endblock %}
 